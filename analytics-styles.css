/* ==============================================
    ANALYTICS STYLES - CHRISTMAS RED/GOLD THEME
    ============================================== */

/* --- General Layout & Headers --- */
.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
}

h1 {
    /* Header text color: Gold */
    color: #e0c86e; 
    margin-bottom: 20px;
}

.filter-count-display {
    /* Style for the Total Cards count */
    color: #d29f22; /* Vibrant Gold */
    font-weight: bold;
    font-size: 1.1em;
    padding: 10px 0;
    margin-bottom: 5px;
}

.header-actions {
    display: flex;
    justify-content: flex-end;
    gap: 10px;
    margin-bottom: 25px;
}

/* --- Filter & Search Controls --- */
.filter-controls {
    display: flex;
    align-items: center;
    gap: 15px;
    margin-bottom: 25px;
    padding: 15px;
    /* Border: Darker grey */
    border: 1px solid #3a3b3c;
    border-radius: 8px;
    /* Background: Dark Grey */
    background-color: #252628;
}

/* New Search Group to contain input and buttons if needed for flexible layouts */
.search-group {
    display: flex;
    flex-grow: 1;
    gap: 10px;
    align-items: center;
}

#searchInput {
    padding: 10px;
    border: 1px solid #3a3b3c;
    border-radius: 4px;
    font-size: 16px;
    flex-grow: 1;
    max-width: 400px;
    
    /* Input FIX: Dark Background, Light Gold Text */
    background-color: #19171b; /* Body background for deep input contrast */
    color: #e0c86e; /* Light Gold text */
}

/* Type Filter Container */
.type-filter-container {
    display: flex;
    flex-wrap: wrap; 
    gap: 8px; 
    margin-bottom: 25px;
    padding: 15px;
    border: 1px solid #3a3b3c;
    border-radius: 8px;
    background-color: #252628;
}

/* Individual Type Filter Buttons */
.type-filter-btn {
    background-color: #3a3b3c; 
    color: #bfa04a;
    border: 1px solid #4a4a4a;
    padding: 6px 12px;
    /* UPDATED: Softer radius */
    border-radius: 6px; 
    cursor: pointer;
    font-size: 14px;
    transition: all 0.2s ease;
    white-space: nowrap;
}

.type-filter-btn:hover {
    background-color: #4a4a4a;
    color: #d29f22; /* Vibrant Gold text */
    border-color: #d29f22; 
}

/* Active (Selected) state for the AND logic */
.type-filter-btn.active {
    background-color: #d29f22 !important; /* Vibrant Gold - Force override */
    color: #19171b !important; /* Very Dark Text on Gold for contrast */
    border-color: #d29f22 !important;
    box-shadow: 0 0 8px rgba(210, 159, 34, 0.8) !important; /* Brighter Gold glow */
    border-radius: 6px !important; /* UPDATED: Softer radius */
}

/* --- Analytics Table --- */
.analytics-table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
    font-size: 0.9em;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.7); 
}

.analytics-table th,
.analytics-table td {
    border: 1px solid #3a3b3c; 
    padding: 12px 15px;
    text-align: left;
}

/* Table Header (th) */
.analytics-table th {
    background-color: #5d0018; /* Deep Red */
    color: white; 
    cursor: pointer;
    position: relative;
    white-space: nowrap; 
    border-bottom: 3px solid #d29f22; /* Gold underline */
    vertical-align: middle; 
}

/* Row Striping */
.analytics-table tr:nth-child(odd) td {
    background-color: #252628; 
}

.analytics-table tr:nth-child(even) td {
    background-color: #333436; 
}

.analytics-table tr:hover td {
    background-color: #3a3b3c; 
}

/* Sorting Indicators */
.analytics-table th.sorted-asc::after,
.analytics-table th.sorted-desc::after {
    position: absolute;
    right: 5px;
    color: #d29f22; 
    font-size: 0.8em;
    line-height: 1; 
}

.analytics-table th.sorted-asc::after {
    content: ' ▲';
}

.analytics-table th.sorted-desc::after {
    content: ' ▼';
}

/* Table Body (td) - Default Text Color */
.analytics-table td {
    color: #e0c86e; /* Set default text color to light gold */
    vertical-align: top; 
}

/* --- Styles for Image Column --- */
.card-icon {
    width: 40px; 
    height: 40px;
    object-fit: contain;
    border-radius: 4px;
    border: 1px solid #d29f22; /* Gold border for visual appeal */
    display: block; 
}

/* --- Rarity Color Override (Ensure these remain visible against dark background) --- */
td.rarity-Common { 
    color: #0469ec; /* Blue */
    font-weight: bold; 
} 
td.rarity-Uncommon { 
    color: #2ecc71; /* Green */
    font-weight: bold; 
} 
td.rarity-Rare { 
    color: #cccccc; /* Silver */
    font-weight: bold; 
} 
td.rarity-Epic { 
    color: #9b59b6; /* Purple */
    font-weight: bold; 
} 
td.rarity-Ultimate { 
    color: #f39c12; /* Orange-Gold */
    font-weight: bold; 
    text-shadow: 0 0 5px rgba(243, 156, 18, 0.5); /* Subtle glow for ultimate */
}

/* --- General Styles for Type Badges & Color Coordination --- */
.type-badge {
    display: inline-block;
    padding: 3px 6px;
    margin-right: 4px;
    margin-bottom: 2px;
    /* UPDATED: Softer radius */
    border-radius: 4px; 
    font-size: 0.75em;
    font-weight: bold;
    white-space: nowrap;
    line-height: 1;
    color: #19171b !important; /* Dark text for maximum readability on colored backgrounds */
    border: 1px solid rgba(0, 0, 0, 0.2); 
    background-color: #95a5a6; /* Default/Fallback Gray */
    /* NEW: Subtle shadow for depth */
    box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.4); 
    /* NEW: Text shadow to make text pop off the color */
    text-shadow: 0 0 1px rgba(255, 255, 255, 0.3); 
}

/* Base Style for Filter Buttons to inherit colors, but keep the gold active state */
.type-filter-btn {
    color: #19171b !important; /* Dark text for clarity */
    border: 1px solid transparent; 
    box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.4); 
    text-shadow: 0 0 1px rgba(255, 255, 255, 0.3);
}

/* ==============================================
   REFINED HIGH-CONTRAST TYPE-SPECIFIC COLORS (VIBRANT & WITH DEPTH)
   ============================================== */

/* --- Primary Action --- */
.type-badge.type-tap, .type-filter-btn.type-tap { background-color: #00BFFF; } 
.type-badge.type-passive, .type-filter-btn.type-passive { background-color: #00FF7F; } 

/* --- Combat & Damage --- */
.type-badge.type-combat, .type-filter-btn.type-combat { background-color: #BA55D3; } 
.type-badge.type-weaponability, .type-filter-btn.type-weaponability { background-color: #FFD700; } 
.type-badge.type-stagger, .type-filter-btn.type-stagger { background-color: #FF8C00; } 
.type-badge.type-aoe, .type-filter-btn.type-aoe { background-color: #DC143C; } 
.type-badge.type-projectile, .type-filter-btn.type-projectile { background-color: #40E0D0; } 
.type-badge.type-transformative, .type-filter-btn.type-transformative { background-color: #FF1493; } 
.type-badge.type-mobility, .type-filter-btn.type-mobility { background-color: #7B68EE; } 

/* --- Status Effects --- */
.type-badge.type-buff, .type-filter-btn.type-buff { background-color: #3CB371; } 
.type-badge.type-debuff, .type-filter-btn.type-debuff { background-color: #FF4500; } 
.type-badge.type-bleed, .type-filter-btn.type-bleed { background-color: #B22222; } 
.type-badge.type-poison, .type-filter-btn.type-poison { background-color: #32CD32; } 
.type-badge.type-dot, .type-filter-btn.type-dot { background-color: #D2B48C; } 

/* --- Magic & Elementals --- */
.type-badge.type-magic, .type-filter-btn.type-magic { background-color: #8A2BE2; } 
.type-badge.type-fire, .type-filter-btn.type-fire { background-color: #FF6347; } 
.type-badge.type-electric, .type-filter-btn.type-electric { background-color: #FFFF00; } 
.type-badge.type-ice, .type-filter-btn.type-ice { background-color: #1E90FF; } 
.type-badge.type-elemental, .type-filter-btn.type-elemental { background-color: #DAA520; } 

/* --- Utility & Misc. --- */
.type-badge.type-utility, .type-filter-btn.type-utility { background-color: #778899; } 
.type-badge.type-resource, .type-filter-btn.type-resource { background-color: #696969; } 
.type-badge.type-defensive, .type-filter-btn.type-defensive { background-color: #A9A9A9; } 
.type-badge.type-areacontrol, .type-filter-btn.type-areacontrol { background-color: #708090; } 
.type-badge.type-trigger, .type-filter-btn.type-trigger { background-color: #FF69B4; } 
.type-badge.type-summon, .type-filter-btn.type-summon { background-color: #4682B4; } 
.type-badge.type-swap, .type-filter-btn.type-swap { background-color: #ADD8E6; } 
.type-badge.type-restoration, .type-filter-btn.type-restoration { background-color: #98FB98; } 
.type-badge.type-trait, .type-filter-btn.type-trait { background-color: #F0E68C; } 

/* --- Filter Button Overrides --- */

/* 1. Ensure uncolored buttons use a dark theme default */
.type-filter-btn:not([class*="type-"]):not(.active) {
    background-color: #3a3b3c;
    color: #bfa04a; 
}
.type-filter-btn:not([class*="type-"]):not(.active):hover {
    background-color: #4a4a4a;
    color: #d29f22;
}

/* 2. Overrides for Type Buttons Hover State */
.type-filter-btn:hover:not(.active) {
    /* Slightly darken the specific color on hover */
    filter: brightness(0.9);
    opacity: 1; 
}

/* 3. The Active (Selected) State MUST remain the Christmas Gold for clarity */
.type-filter-btn.active {
    background-color: #d29f22 !important; 
    color: #19171b !important;
    border-color: #d29f22 !important;
    box-shadow: 0 0 8px rgba(210, 159, 34, 0.8) !important;
    opacity: 1 !important; 
    border-radius: 15px !important; /* Consistent radius */
}